<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>picture on Tsaiã®å—æ¥µæ´²</title>
        <link>https://tsairongfu.github.io/tags/picture/</link>
        <description>Recent content in picture on Tsaiã®å—æ¥µæ´²</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-tw</language>
        <lastBuildDate>Sat, 20 Aug 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://tsairongfu.github.io/tags/picture/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>FFmpegåœ–ç‰‡åˆæˆgif</title>
        <link>https://tsairongfu.github.io/p/ffmpeg%E5%9C%96%E7%89%87%E5%90%88%E6%88%90gif/</link>
        <pubDate>Sat, 20 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://tsairongfu.github.io/p/ffmpeg%E5%9C%96%E7%89%87%E5%90%88%E6%88%90gif/</guid>
        <description>&lt;img src="https://tsairongfu.github.io/p/ffmpeg%E5%9C%96%E7%89%87%E5%90%88%E6%88%90gif/Sagittarius%20Star%20Cloud.jpg" alt="Featured image of post FFmpegåœ–ç‰‡åˆæˆgif" /&gt;&lt;h2 id=&#34;picture-to-gif&#34;&gt;picture to Gif&lt;/h2&gt;
&lt;p&gt;Define custom palette
The converted GIF has only three colors: white and two tints of blue, therefore, the default 256 color palette can be reduced to 16. The custom palette is created with the palettegen filter.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i frames/200.png -vf palettegen=16 palette.png
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;After the palette was created it can be used in the GIF conversion.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i frames/%03d.png -i palette.png -filter_complex &amp;#34;fps=20,scale=720ğŸ‘flags=lanczos[x];[x][1:v]paletteuse&amp;#34; logo.gif
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;åœ–ç‰‡å£“ç¸®&#34;&gt;åœ–ç‰‡å£“ç¸®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i image_source -q compress_level out_source
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;compress_levelï¼šå£“ç¸®ç­‰ç´šç‚ºæ­£æ•´æ•¸ï¼Œæ•¸å€¼è¶Šå¤§å£“ç¸®ç­‰ç´šè¶Šé«˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç´„æŸæ¯”ä¾‹å£“ç¸®&#34;&gt;ç´„æŸæ¯”ä¾‹å£“ç¸®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i image_source -vf scale=width:height out_source
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;widthç‚ºå£“ç¸®å¾Œçš„åœ–ç‰‡å¯¬åº¦
heightç‚ºå£“ç¸®å¾Œçš„åœ–ç‰‡é«˜åº¦
ç•¶widthæˆ–heightå…¶ä¸­æœ‰ä¸€å€‹æ•¸å€¼ç‚º-1æ™‚å°‡ä¿æŒåŸä¾†åœ–ç‰‡å°ºå¯¸æ¯”ä¾‹å£“ç¸®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;åœ–ç‰‡è£åˆ‡&#34;&gt;åœ–ç‰‡è£åˆ‡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i image_source -vf crop=width:height:from_x:from_y out_source
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;widthæ˜¯è¦è£å‰ªå‡ºçš„åœ–ç‰‡çš„å¯¬åº¦
heightæ˜¯è¦è£å‰ªå‡ºçš„åœ–ç‰‡çš„é«˜åº¦
from_xæ˜¯è£å‰ªçš„èµ·å§‹Xè»¸çš„ä½ç½®
from_yæ˜¯è£å‰ªçš„èµ·å§‹Yè»¸çš„ä½ç½®
å¦‚æœä¸æŒ‡å®šfrom_xå’Œfrom_yè¡¨ç¤ºå¾åŸå§‹åœ–ç‰‡ä¸­å¿ƒä½ç½®é–‹å§‹è£å‰ª&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æ·»åŠ æ°´å°åœ–ç‰‡&#34;&gt;æ·»åŠ æ°´å°åœ–ç‰‡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i image_source -vf movie=logo_source,scale=logo_width:logo_height,lut=a=val*opacity_num[watermask];[in][watermask] overlay=from_x:from_y[out] -y  out_source
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;logo_sourceç‚ºæ°´å°åœ–ç‰‡åœ°å€
logo_widthç‚ºæ°´å°åœ–ç‰‡çš„å¯¬åº¦
logo_heightç‚ºæ°´å°åœ–ç‰‡çš„é«˜åº¦
opacity_numç‚ºæ°´å°åœ–ç‰‡çš„é€æ˜åº¦
from_xç‚ºæ°´å°çš„èµ·å§‹Xè»¸çš„ä½ç½®
from_yç‚ºæ°´å°çš„èµ·å§‹Yè»¸çš„ä½ç½®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æ·»åŠ æ–‡å­—æ°´å°&#34;&gt;æ·»åŠ æ–‡å­—æ°´å°&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i image_source -vf drawtext=fontfile=font_ttf_path:fontcolor=font_color:fontsize=font_size:text=message_info:x=from_x:y=from_y  out_source
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;font_ttf_pathç‚ºå­—é«”è·¯å¾‘ï¼Œæ­¤é …å¿…é ˆè¨­ç½®å¦å‰‡æœƒå‡ºç¾å­—é«”ç„¡æ³•æ‰¾åˆ°çš„éŒ¯èª¤
å­—é«”è·¯å¾‘è¦è¨­ç½®çµ•å°è·¯å¾‘ä¸¦ä¸”è¦æ³¨æ„è·¯å¾‘æ­£åæ–œç·šè½‰ç¾©(ä¾‹å¦‚C\:/Windows/Fonts/simhei.ttf)
font_colorç‚ºå­—é«”çš„é¡è‰²
font_sizeç‚ºå­—é«”çš„å¤§å° 
message_infoç‚ºæ°´å°æ–‡å­—å…§å®¹
from_xç‚ºæ°´å°çš„èµ·å§‹Xè»¸çš„ä½ç½®
from_yç‚ºæ°´å°çš„èµ·å§‹Yè»¸çš„ä½ç½®
å¦‚æœæ°´å°å…§å®¹æ˜¯ä¸­æ–‡éœ€è¦è¨­ç½®ä¸­æ–‡å­—é«”å¦å‰‡æœƒæ–‡å­—é¡¯ç¤ºäº‚ç¢¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;åœ–ç‰‡æ—‹è½‰æŒ‡å®šçš„è§’åº¦&#34;&gt;åœ–ç‰‡æ—‹è½‰æŒ‡å®šçš„è§’åº¦&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i image_source -vf rotate=route_num*PI/180 -y  out_source
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;route_numæ˜¯è¦æ—‹è½‰çš„è§’åº¦
ç•¶route_numå¤§æ–¼0çš„æ™‚å€™é †æ™‚é‡æ—‹è½‰,ç•¶route_numå°æ–¼0çš„æ™‚å€™é€†æ™‚é‡æ—‹è½‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;åœ–ç‰‡æ—‹è½‰ç‰¹æ®Šç°¡ä¾¿å‘½ä»¤&#34;&gt;åœ–ç‰‡æ—‹è½‰ç‰¹æ®Šç°¡ä¾¿å‘½ä»¤&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i image_source -vf transpose=route_number -y out_source
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;route_number=0é †æ™‚é‡æ—‹è½‰90åº¦å†å·¦å³é¡åƒ
route_number=1é †æ™‚é‡æ—‹è½‰90åº¦
route_number=2é€†æ™‚é‡æ—‹è½‰90åº¦
route_number=3é€†æ™‚é‡æ—‹è½‰90åº¦å†å·¦å³é¡åƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;åœ–ç‰‡å·¦å³é¡åƒ&#34;&gt;åœ–ç‰‡å·¦å³é¡åƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i image_source -vf hflip out_source
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;å°‡åœ–ç‰‡ä¸Šä¸‹é¡åƒ&#34;&gt;å°‡åœ–ç‰‡ä¸Šä¸‹é¡åƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ffmpeg -i image_source -vf vflip out_source
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        
    </channel>
</rss>
